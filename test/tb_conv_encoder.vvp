#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x101682200 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x101678610 .scope module, "tb_conv_encoder" "tb_conv_encoder" 3 3;
 .timescale -9 -12;
P_0x9bcc54000 .param/l "CLK_PERIOD" 0 3 9, +C4<00000000000000000000000000001010>;
P_0x9bcc54040 .param/l "G0_OCT" 0 3 7, C4<00000111>;
P_0x9bcc54080 .param/l "G1_OCT" 0 3 8, C4<00000101>;
P_0x9bcc540c0 .param/l "K" 0 3 6, +C4<00000000000000000000000000000011>;
v0x9bcc395e0_0 .var "bit_in", 0 0;
v0x9bcc39680_0 .var "bit_valid", 0 0;
v0x9bcc39720_0 .var "clk", 0 0;
v0x9bcc397c0_0 .var/i "errors", 31 0;
v0x9bcc39860_0 .var "rst_n", 0 0;
v0x9bcc39900_0 .net "sym_out", 1 0, v0x9bcc39220_0;  1 drivers
v0x9bcc399a0_0 .net "sym_valid", 0 0, v0x9bcc392c0_0;  1 drivers
v0x9bcc39a40_0 .var/i "test_num", 31 0;
S_0x101678790 .scope begin, "$unm_blk_18" "$unm_blk_18" 3 206, 3 206 0, S_0x101678610;
 .timescale -9 -12;
v0x9bcc38280_0 .var "expected", 1 0;
v0x9bcc38320_0 .var/i "i", 31 0;
v0x9bcc38460_0 .var "rand_bit", 0 0;
v0x9bcc38140_0 .var "state", 1 0;
S_0x101673f50 .scope begin, "$unm_blk_23" "$unm_blk_23" 3 267, 3 267 0, S_0x101678610;
 .timescale -9 -12;
v0x9bcc38500_0 .var "expected", 1 0;
v0x9bcc385a0_0 .var/i "i", 31 0;
v0x9bcc38640_0 .var "state", 1 0;
v0x9bcc386e0_0 .var "test_pattern", 9 0;
E_0x9bcc00980 .event posedge, v0x9bcc39040_0;
S_0x1016740d0 .scope task, "apply_reset" "apply_reset" 3 44, 3 44 0, S_0x101678610;
 .timescale -9 -12;
TD_tb_conv_encoder.apply_reset ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39860_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc395e0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %pushi/vec4 5, 0, 32;
T_0.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_0.1, 5;
    %jmp/1 T_0.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x9bcc00980;
    %jmp T_0.0;
T_0.1 ;
    %pop/vec4 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39860_0, 0, 1;
    %wait E_0x9bcc00980;
    %end;
S_0x101687340 .scope function.vec4.s2, "calc_expected_sym" "calc_expected_sym" 3 109, 3 109 0, S_0x101678610;
 .timescale -9 -12;
; Variable calc_expected_sym is vec4 return value of scope S_0x101687340
v0x9bcc38820_0 .var "in_bit", 0 0;
v0x9bcc388c0_0 .var "sr", 2 0;
v0x9bcc38960_0 .var "state", 1 0;
v0x9bcc38a00_0 .var "y0", 0 0;
v0x9bcc38aa0_0 .var "y1", 0 0;
TD_tb_conv_encoder.calc_expected_sym ;
    %load/vec4 v0x9bcc38960_0;
    %load/vec4 v0x9bcc38820_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x9bcc388c0_0, 0, 3;
    %load/vec4 v0x9bcc388c0_0;
    %pushi/vec4 7, 0, 3;
    %and;
    %xor/r;
    %store/vec4 v0x9bcc38a00_0, 0, 1;
    %load/vec4 v0x9bcc388c0_0;
    %pushi/vec4 5, 0, 3;
    %and;
    %xor/r;
    %store/vec4 v0x9bcc38aa0_0, 0, 1;
    %load/vec4 v0x9bcc38a00_0;
    %load/vec4 v0x9bcc38aa0_0;
    %concat/vec4; draw_concat_vec4
    %ret/vec4 0, 0, 2;  Assign to calc_expected_sym (store_vec4_to_lval)
    %end;
S_0x1016853a0 .scope module, "dut" "conv_encoder" 3 28, 4 9 0, S_0x101678610;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 1 "bit_in";
    .port_info 3 /INPUT 1 "bit_valid";
    .port_info 4 /OUTPUT 2 "sym_out";
    .port_info 5 /OUTPUT 1 "sym_valid";
P_0x9bcc54100 .param/l "G0_OCT" 0 4 11, C4<00000111>;
P_0x9bcc54140 .param/l "G1_OCT" 0 4 12, C4<00000101>;
P_0x9bcc54180 .param/l "K" 0 4 10, +C4<00000000000000000000000000000011>;
P_0x9bcc541c0 .param/l "M" 1 4 22, +C4<000000000000000000000000000000010>;
L_0x9bc854010 .functor BUFT 1, C4<111>, C4<0>, C4<0>, C4<0>;
v0x9bcc38dc0_0 .net "G0", 2 0, L_0x9bc854010;  1 drivers
L_0x9bc854058 .functor BUFT 1, C4<101>, C4<0>, C4<0>, C4<0>;
v0x9bcc38e60_0 .net "G1", 2 0, L_0x9bc854058;  1 drivers
v0x9bcc38f00_0 .net "bit_in", 0 0, v0x9bcc395e0_0;  1 drivers
v0x9bcc38fa0_0 .net "bit_valid", 0 0, v0x9bcc39680_0;  1 drivers
v0x9bcc39040_0 .net "clk", 0 0, v0x9bcc39720_0;  1 drivers
v0x9bcc390e0_0 .net "rst_n", 0 0, v0x9bcc39860_0;  1 drivers
v0x9bcc39180_0 .var "state", 1 0;
v0x9bcc39220_0 .var "sym_out", 1 0;
v0x9bcc392c0_0 .var "sym_valid", 0 0;
E_0x9bcc009c0/0 .event negedge, v0x9bcc390e0_0;
E_0x9bcc009c0/1 .event posedge, v0x9bcc39040_0;
E_0x9bcc009c0 .event/or E_0x9bcc009c0/0, E_0x9bcc009c0/1;
S_0x101681960 .scope begin, "$unm_blk_1" "$unm_blk_1" 4 31, 4 31 0, S_0x1016853a0;
 .timescale -9 -12;
v0x9bcc38be0_0 .var "out_y0", 0 0;
v0x9bcc38c80_0 .var "out_y1", 0 0;
v0x9bcc38d20_0 .var "sr", 2 0;
S_0x101685f10 .scope task, "send_bit" "send_bit" 3 56, 3 56 0, S_0x101678610;
 .timescale -9 -12;
v0x9bcc39360_0 .var "bit_val", 0 0;
TD_tb_conv_encoder.send_bit ;
    %wait E_0x9bcc00980;
    %load/vec4 v0x9bcc39360_0;
    %store/vec4 v0x9bcc395e0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %end;
S_0x101686090 .scope task, "send_bit_check" "send_bit_check" 3 68, 3 68 0, S_0x101678610;
 .timescale -9 -12;
v0x9bcc39400_0 .var "bit_val", 0 0;
v0x9bcc394a0_0 .var "expected_sym", 1 0;
TD_tb_conv_encoder.send_bit_check ;
    %wait E_0x9bcc00980;
    %load/vec4 v0x9bcc39400_0;
    %store/vec4 v0x9bcc395e0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc399a0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_3.2, 6;
    %vpi_call/w 3 79 "$display", "ERROR: sym_valid not asserted when expected" {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
    %jmp T_3.3;
T_3.2 ;
    %load/vec4 v0x9bcc39900_0;
    %load/vec4 v0x9bcc394a0_0;
    %cmp/ne;
    %jmp/0xz  T_3.4, 6;
    %vpi_call/w 3 82 "$display", "ERROR: Expected symbol 2'b%b, got 2'b%b (input bit=%b)", v0x9bcc394a0_0, v0x9bcc39900_0, v0x9bcc39400_0 {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
    %jmp T_3.5;
T_3.4 ;
    %vpi_call/w 3 86 "$display", "  OK: Input bit=%b -> Symbol=2'b%b", v0x9bcc39400_0, v0x9bcc39900_0 {0 0 0};
T_3.5 ;
T_3.3 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %end;
S_0x1016877c0 .scope task, "wait_idle" "wait_idle" 3 94, 3 94 0, S_0x101678610;
 .timescale -9 -12;
v0x9bcc39540_0 .var/i "i", 31 0;
TD_tb_conv_encoder.wait_idle ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x9bcc39540_0, 0, 32;
T_4.6 ;
    %load/vec4 v0x9bcc39540_0;
    %cmpi/s 3, 0, 32;
    %jmp/0xz T_4.7, 5;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc399a0_0;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_4.8, 6;
    %vpi_call/w 3 102 "$display", "WARNING: sym_valid asserted during idle" {0 0 0};
T_4.8 ;
    %load/vec4 v0x9bcc39540_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39540_0, 0, 32;
    %jmp T_4.6;
T_4.7 ;
    %end;
    .scope S_0x1016853a0;
T_5 ;
    %wait E_0x9bcc009c0;
    %fork t_1, S_0x101681960;
    %jmp t_0;
    .scope S_0x101681960;
t_1 ;
    %load/vec4 v0x9bcc390e0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x9bcc39180_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x9bcc39220_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x9bcc392c0_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %load/vec4 v0x9bcc38fa0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.2, 8;
    %load/vec4 v0x9bcc39180_0;
    %load/vec4 v0x9bcc38f00_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x9bcc38d20_0, 0, 3;
    %load/vec4 v0x9bcc38d20_0;
    %parti/s 1, 2, 3;
    %load/vec4 v0x9bcc38d20_0;
    %parti/s 1, 1, 2;
    %xor;
    %load/vec4 v0x9bcc38d20_0;
    %parti/s 1, 0, 2;
    %xor;
    %store/vec4 v0x9bcc38be0_0, 0, 1;
    %load/vec4 v0x9bcc38d20_0;
    %parti/s 1, 2, 3;
    %load/vec4 v0x9bcc38d20_0;
    %parti/s 1, 0, 2;
    %xor;
    %store/vec4 v0x9bcc38c80_0, 0, 1;
    %load/vec4 v0x9bcc38c80_0;
    %load/vec4 v0x9bcc38be0_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x9bcc39220_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x9bcc392c0_0, 0;
    %load/vec4 v0x9bcc39180_0;
    %parti/s 1, 0, 2;
    %load/vec4 v0x9bcc38f00_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x9bcc39180_0, 0;
    %jmp T_5.3;
T_5.2 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x9bcc392c0_0, 0;
T_5.3 ;
T_5.1 ;
    %end;
    .scope S_0x1016853a0;
t_0 %join;
    %jmp T_5;
    .thread T_5;
    .scope S_0x101678610;
T_6 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39720_0, 0, 1;
T_6.0 ;
    %delay 5000, 0;
    %load/vec4 v0x9bcc39720_0;
    %inv;
    %store/vec4 v0x9bcc39720_0, 0, 1;
    %jmp T_6.0;
    %end;
    .thread T_6;
    .scope S_0x101678610;
T_7 ;
    %vpi_call/w 3 126 "$display", "\012=== Convolutional Encoder Testbench ===" {0 0 0};
    %vpi_call/w 3 127 "$display", "K=%0d, G0=%o, G1=%o\012", P_0x9bcc540c0, P_0x9bcc54040, P_0x9bcc54080 {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 137 "$display", "\012[Test %0d] All zeros input", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 152 "$display", "\012[Test %0d] All ones input", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 171 "$display", "\012[Test %0d] Alternating pattern (0,1,0,1...)", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 185 "$display", "\012[Test %0d] Known sequence: 1,0,1,1,0 + tail", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 203 "$display", "\012[Test %0d] Random sequence (20 bits)", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %fork t_3, S_0x101678790;
    %jmp t_2;
    .scope S_0x101678790;
t_3 ;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc38140_0, 0, 2;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x9bcc38320_0, 0, 32;
T_7.0 ;
    %load/vec4 v0x9bcc38320_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_7.1, 5;
    %load/vec4 v0x9bcc38320_0;
    %pushi/vec4 1, 0, 32;
    %and;
    %load/vec4 v0x9bcc38320_0;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %shiftr 4;
    %pushi/vec4 1, 0, 32;
    %and;
    %xor;
    %load/vec4 v0x9bcc38320_0;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %shiftr 4;
    %pushi/vec4 1, 0, 32;
    %and;
    %xor;
    %pad/s 1;
    %store/vec4 v0x9bcc38460_0, 0, 1;
    %load/vec4 v0x9bcc38140_0;
    %load/vec4 v0x9bcc38460_0;
    %store/vec4 v0x9bcc38820_0, 0, 1;
    %store/vec4 v0x9bcc38960_0, 0, 2;
    %callf/vec4 TD_tb_conv_encoder.calc_expected_sym, S_0x101687340;
    %store/vec4 v0x9bcc38280_0, 0, 2;
    %load/vec4 v0x9bcc38460_0;
    %store/vec4 v0x9bcc39400_0, 0, 1;
    %load/vec4 v0x9bcc38280_0;
    %store/vec4 v0x9bcc394a0_0, 0, 2;
    %fork TD_tb_conv_encoder.send_bit_check, S_0x101686090;
    %join;
    %load/vec4 v0x9bcc38140_0;
    %parti/s 1, 0, 2;
    %load/vec4 v0x9bcc38460_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x9bcc38140_0, 0, 2;
    %load/vec4 v0x9bcc38320_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc38320_0, 0, 32;
    %jmp T_7.0;
T_7.1 ;
    %end;
    .scope S_0x101678610;
t_2 %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 229 "$display", "\012[Test %0d] Verify sym_valid timing", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %wait E_0x9bcc00980;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc399a0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_7.2, 6;
    %vpi_call/w 3 238 "$display", "ERROR: sym_valid high when bit_valid not asserted" {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
T_7.2 ;
    %wait E_0x9bcc00980;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc395e0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc399a0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_7.4, 6;
    %vpi_call/w 3 248 "$display", "ERROR: sym_valid not high after bit_valid" {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
T_7.4 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc399a0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_7.6, 6;
    %vpi_call/w 3 256 "$display", "ERROR: sym_valid still high after bit_valid deasserted" {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
T_7.6 ;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %load/vec4 v0x9bcc39a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc39a40_0, 0, 32;
    %vpi_call/w 3 264 "$display", "\012[Test %0d] Burst mode (continuous bit_valid)", v0x9bcc39a40_0 {0 0 0};
    %fork TD_tb_conv_encoder.apply_reset, S_0x1016740d0;
    %join;
    %fork t_5, S_0x101673f50;
    %jmp t_4;
    .scope S_0x101673f50;
t_5 ;
    %pushi/vec4 717, 0, 10;
    %store/vec4 v0x9bcc386e0_0, 0, 10;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x9bcc38640_0, 0, 2;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x9bcc385a0_0, 0, 32;
T_7.8 ;
    %load/vec4 v0x9bcc385a0_0;
    %cmpi/s 10, 0, 32;
    %jmp/0xz T_7.9, 5;
    %load/vec4 v0x9bcc38640_0;
    %load/vec4 v0x9bcc386e0_0;
    %load/vec4 v0x9bcc385a0_0;
    %part/s 1;
    %store/vec4 v0x9bcc38820_0, 0, 1;
    %store/vec4 v0x9bcc38960_0, 0, 2;
    %callf/vec4 TD_tb_conv_encoder.calc_expected_sym, S_0x101687340;
    %store/vec4 v0x9bcc38500_0, 0, 2;
    %wait E_0x9bcc00980;
    %load/vec4 v0x9bcc386e0_0;
    %load/vec4 v0x9bcc385a0_0;
    %part/s 1;
    %store/vec4 v0x9bcc395e0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %wait E_0x9bcc00980;
    %delay 1000, 0;
    %load/vec4 v0x9bcc39900_0;
    %load/vec4 v0x9bcc38500_0;
    %cmp/ne;
    %jmp/0xz  T_7.10, 6;
    %vpi_call/w 3 286 "$display", "ERROR at bit %0d: Expected 2'b%b, got 2'b%b", v0x9bcc385a0_0, v0x9bcc38500_0, v0x9bcc39900_0 {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc397c0_0, 0, 32;
T_7.10 ;
    %load/vec4 v0x9bcc38640_0;
    %parti/s 1, 0, 2;
    %load/vec4 v0x9bcc386e0_0;
    %load/vec4 v0x9bcc385a0_0;
    %part/s 1;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x9bcc38640_0, 0, 2;
    %load/vec4 v0x9bcc385a0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x9bcc385a0_0, 0, 32;
    %jmp T_7.8;
T_7.9 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x9bcc39680_0, 0, 1;
    %end;
    .scope S_0x101678610;
t_4 %join;
    %fork TD_tb_conv_encoder.wait_idle, S_0x1016877c0;
    %join;
    %vpi_call/w 3 300 "$display", "\012=== Test Complete ===" {0 0 0};
    %vpi_call/w 3 301 "$display", "Total tests: %0d", v0x9bcc39a40_0 {0 0 0};
    %vpi_call/w 3 302 "$display", "Total errors: %0d", v0x9bcc397c0_0 {0 0 0};
    %load/vec4 v0x9bcc397c0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_7.12, 4;
    %vpi_call/w 3 305 "$display", "\012*** ALL TESTS PASSED ***\012" {0 0 0};
    %jmp T_7.13;
T_7.12 ;
    %vpi_call/w 3 307 "$display", "\012*** TESTS FAILED ***\012" {0 0 0};
T_7.13 ;
    %delay 100000, 0;
    %vpi_call/w 3 311 "$finish" {0 0 0};
    %end;
    .thread T_7;
    .scope S_0x101678610;
T_8 ;
    %delay 100000000, 0;
    %vpi_call/w 3 317 "$display", "\012ERROR: Testbench timeout!" {0 0 0};
    %vpi_call/w 3 318 "$finish" {0 0 0};
    %end;
    .thread T_8;
    .scope S_0x101678610;
T_9 ;
    %vpi_call/w 3 323 "$dumpfile", "tb_conv_encoder.vcd" {0 0 0};
    %vpi_call/w 3 324 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x101678610 {0 0 0};
    %end;
    .thread T_9;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "./tb_conv_encoder.v";
    "../src/conv_encoder.v";
