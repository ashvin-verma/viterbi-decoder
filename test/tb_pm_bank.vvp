#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x10392fd90 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x10392ff10 .scope module, "tb_pm_bank" "tb_pm_bank" 3 23;
 .timescale -9 -12;
P_0x103939410 .param/l "D" 0 3 30, +C4<00000000000000000000000000000100>;
P_0x103939450 .param/l "INF" 0 3 33, +C4<000000000000000000000000000000000111111>;
P_0x103939490 .param/l "K" 0 3 26, +C4<00000000000000000000000000000011>;
P_0x1039394d0 .param/l "M" 0 3 27, +C4<000000000000000000000000000000010>;
P_0x103939510 .param/l "S" 0 3 28, +C4<0000000000000000000000000000000100>;
P_0x103939550 .param/l "Wm" 0 3 29, +C4<00000000000000000000000000000110>;
v0xaa4c46260_0 .var "clk", 0 0;
v0xaa4c46300_0 .var "expected_val", 5 0;
v0xaa4c463a0_0 .var/i "fail_count", 31 0;
v0xaa4c46440_0 .var/i "i", 31 0;
v0xaa4c464e0_0 .var "init_frame", 0 0;
v0xaa4c46580_0 .var/i "j", 31 0;
v0xaa4c46620 .array "model_bank_A", 3 0, 5 0;
v0xaa4c466c0 .array "model_bank_B", 3 0, 5 0;
v0xaa4c46760_0 .var "model_prev_is_A", 0 0;
v0xaa4c46800_0 .var/i "pass_count", 31 0;
v0xaa4c468a0_0 .net "prev_is_A", 0 0, v0xaa4c457c0_0;  1 drivers
v0xaa4c46940_0 .var "rd_idx0", 1 0;
v0xaa4c469e0_0 .var "rd_idx1", 1 0;
v0xaa4c46a80_0 .net "rd_pm0", 5 0, v0xaa4c459a0_0;  1 drivers
v0xaa4c46b20_0 .net "rd_pm1", 5 0, v0xaa4c45a40_0;  1 drivers
v0xaa4c46bc0_0 .var "rst", 0 0;
v0xaa4c46c60_0 .var "swap_banks", 0 0;
v0xaa4c46d00_0 .var/i "test_num", 31 0;
v0xaa4c46da0_0 .var "test_pass", 0 0;
v0xaa4c46e40_0 .var "wr_en", 0 0;
v0xaa4c46ee0_0 .var "wr_idx", 1 0;
v0xaa4c46f80_0 .var "wr_pm", 5 0;
S_0x103939590 .scope task, "apply_reset" "apply_reset" 3 157, 3 157 0, S_0x10392ff10;
 .timescale -9 -12;
E_0xaa4c025c0 .event posedge, v0xaa4c455e0_0;
TD_tb_pm_bank.apply_reset ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c46bc0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c464e0_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c46940_0, 0, 2;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c469e0_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46e40_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c46ee0_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c46f80_0, 0, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46c60_0, 0, 1;
    %wait E_0xaa4c025c0;
    %wait E_0xaa4c025c0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46bc0_0, 0, 1;
    %wait E_0xaa4c025c0;
    %fork TD_tb_pm_bank.model_reset, S_0xaa5078a80;
    %join;
    %end;
S_0xaa5078000 .scope task, "check_read" "check_read" 3 211, 3 211 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c44d20_0 .var "actual", 5 0;
v0xaa4c45180_0 .var "expected", 5 0;
v0xaa4c45220_0 .var "idx", 1 0;
v0xaa4c452c0_0 .var "port_num", 31 0;
TD_tb_pm_bank.check_read ;
    %load/vec4 v0xaa4c452c0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_1.0, 4;
    %load/vec4 v0xaa4c45220_0;
    %store/vec4 v0xaa4c46940_0, 0, 2;
    %wait E_0xaa4c025c0;
    %delay 1000, 0;
    %load/vec4 v0xaa4c46a80_0;
    %store/vec4 v0xaa4c44d20_0, 0, 6;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0xaa4c45220_0;
    %store/vec4 v0xaa4c469e0_0, 0, 2;
    %wait E_0xaa4c025c0;
    %delay 1000, 0;
    %load/vec4 v0xaa4c46b20_0;
    %store/vec4 v0xaa4c44d20_0, 0, 6;
T_1.1 ;
    %load/vec4 v0xaa4c44d20_0;
    %load/vec4 v0xaa4c45180_0;
    %cmp/ne;
    %jmp/0xz  T_1.2, 6;
    %vpi_call/w 3 230 "$display", "    \342\234\227 Read port %0d at idx=%0d: expected=%0d, got=%0d", v0xaa4c452c0_0, v0xaa4c45220_0, v0xaa4c45180_0, v0xaa4c44d20_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
T_1.2 ;
    %end;
S_0xaa5078180 .scope task, "do_swap" "do_swap" 3 200, 3 200 0, S_0x10392ff10;
 .timescale -9 -12;
TD_tb_pm_bank.do_swap ;
    %wait E_0xaa4c025c0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c46c60_0, 0, 1;
    %fork TD_tb_pm_bank.model_swap, S_0xaa5078c00;
    %join;
    %wait E_0xaa4c025c0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46c60_0, 0, 1;
    %wait E_0xaa4c025c0;
    %end;
S_0xaa5078300 .scope task, "do_write" "do_write" 3 186, 3 186 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c45360_0 .var "idx", 1 0;
v0xaa4c45400_0 .var "pm", 5 0;
TD_tb_pm_bank.do_write ;
    %wait E_0xaa4c025c0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c46e40_0, 0, 1;
    %load/vec4 v0xaa4c45360_0;
    %store/vec4 v0xaa4c46ee0_0, 0, 2;
    %load/vec4 v0xaa4c45400_0;
    %store/vec4 v0xaa4c46f80_0, 0, 6;
    %load/vec4 v0xaa4c45360_0;
    %store/vec4 v0xaa4c46080_0, 0, 2;
    %load/vec4 v0xaa4c45400_0;
    %store/vec4 v0xaa4c46120_0, 0, 6;
    %fork TD_tb_pm_bank.model_write, S_0xaa5078d80;
    %join;
    %wait E_0xaa4c025c0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46e40_0, 0, 1;
    %end;
S_0xaa5078480 .scope module, "dut" "pm_bank" 3 71, 4 1 0, S_0x10392ff10;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 1 "init_frame";
    .port_info 3 /INPUT 2 "rd_idx0";
    .port_info 4 /INPUT 2 "rd_idx1";
    .port_info 5 /INPUT 1 "wr_en";
    .port_info 6 /INPUT 2 "wr_idx";
    .port_info 7 /INPUT 6 "wr_pm";
    .port_info 8 /INPUT 1 "swap_banks";
    .port_info 9 /OUTPUT 6 "rd_pm0";
    .port_info 10 /OUTPUT 6 "rd_pm1";
    .port_info 11 /OUTPUT 1 "prev_A";
P_0x1039437f0 .param/l "K" 0 4 2, +C4<00000000000000000000000000000011>;
P_0x103943830 .param/l "M" 0 4 3, +C4<000000000000000000000000000000010>;
P_0x103943870 .param/l "S" 0 4 4, +C4<0000000000000000000000000000000100>;
P_0x1039438b0 .param/l "Wm" 0 4 5, +C4<00000000000000000000000000000110>;
v0xaa4c454a0 .array "bank0", 3 0, 5 0;
v0xaa4c45540 .array "bank1", 3 0, 5 0;
v0xaa4c455e0_0 .net "clk", 0 0, v0xaa4c46260_0;  1 drivers
v0xaa4c45680_0 .var/i "i", 31 0;
v0xaa4c45720_0 .net "init_frame", 0 0, v0xaa4c464e0_0;  1 drivers
v0xaa4c457c0_0 .var "prev_A", 0 0;
v0xaa4c45860_0 .net "rd_idx0", 1 0, v0xaa4c46940_0;  1 drivers
v0xaa4c45900_0 .net "rd_idx1", 1 0, v0xaa4c469e0_0;  1 drivers
v0xaa4c459a0_0 .var "rd_pm0", 5 0;
v0xaa4c45a40_0 .var "rd_pm1", 5 0;
v0xaa4c45ae0_0 .net "rst", 0 0, v0xaa4c46bc0_0;  1 drivers
v0xaa4c45b80_0 .net "swap_banks", 0 0, v0xaa4c46c60_0;  1 drivers
v0xaa4c45c20_0 .net "wr_en", 0 0, v0xaa4c46e40_0;  1 drivers
v0xaa4c45cc0_0 .net "wr_idx", 1 0, v0xaa4c46ee0_0;  1 drivers
v0xaa4c45d60_0 .net "wr_pm", 5 0, v0xaa4c46f80_0;  1 drivers
v0xaa4c454a0_0 .array/port v0xaa4c454a0, 0;
v0xaa4c454a0_1 .array/port v0xaa4c454a0, 1;
E_0xaa4c02700/0 .event anyedge, v0xaa4c457c0_0, v0xaa4c45860_0, v0xaa4c454a0_0, v0xaa4c454a0_1;
v0xaa4c454a0_2 .array/port v0xaa4c454a0, 2;
v0xaa4c454a0_3 .array/port v0xaa4c454a0, 3;
v0xaa4c45540_0 .array/port v0xaa4c45540, 0;
E_0xaa4c02700/1 .event anyedge, v0xaa4c454a0_2, v0xaa4c454a0_3, v0xaa4c45900_0, v0xaa4c45540_0;
v0xaa4c45540_1 .array/port v0xaa4c45540, 1;
v0xaa4c45540_2 .array/port v0xaa4c45540, 2;
v0xaa4c45540_3 .array/port v0xaa4c45540, 3;
E_0xaa4c02700/2 .event anyedge, v0xaa4c45540_1, v0xaa4c45540_2, v0xaa4c45540_3;
E_0xaa4c02700 .event/or E_0xaa4c02700/0, E_0xaa4c02700/1, E_0xaa4c02700/2;
S_0xaa5078600 .scope task, "end_test" "end_test" 3 247, 3 247 0, S_0x10392ff10;
 .timescale -9 -12;
TD_tb_pm_bank.end_test ;
    %load/vec4 v0xaa4c46da0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.4, 8;
    %vpi_call/w 3 250 "$display", "\342\234\223 Test %0d PASS", v0xaa4c46d00_0 {0 0 0};
    %load/vec4 v0xaa4c46800_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46800_0, 0, 32;
    %jmp T_4.5;
T_4.4 ;
    %vpi_call/w 3 253 "$display", "\342\234\227 Test %0d FAIL", v0xaa4c46d00_0 {0 0 0};
    %load/vec4 v0xaa4c463a0_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c463a0_0, 0, 32;
T_4.5 ;
    %end;
S_0xaa5078780 .scope task, "model_init_frame" "model_init_frame" 3 108, 3 108 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c45e00_0 .var/i "k", 31 0;
TD_tb_pm_bank.model_init_frame ;
    %load/vec4 v0xaa4c46760_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.6, 8;
    %pushi/vec4 0, 0, 6;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0xaa4c466c0, 4, 0;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c45e00_0, 0, 32;
T_5.8 ;
    %load/vec4 v0xaa4c45e00_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_5.9, 5;
    %pushi/vec4 63, 0, 6;
    %ix/getv/s 4, v0xaa4c45e00_0;
    %store/vec4a v0xaa4c466c0, 4, 0;
    %load/vec4 v0xaa4c45e00_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45e00_0, 0, 32;
    %jmp T_5.8;
T_5.9 ;
    %jmp T_5.7;
T_5.6 ;
    %pushi/vec4 0, 0, 6;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0xaa4c46620, 4, 0;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c45e00_0, 0, 32;
T_5.10 ;
    %load/vec4 v0xaa4c45e00_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_5.11, 5;
    %pushi/vec4 63, 0, 6;
    %ix/getv/s 4, v0xaa4c45e00_0;
    %store/vec4a v0xaa4c46620, 4, 0;
    %load/vec4 v0xaa4c45e00_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45e00_0, 0, 32;
    %jmp T_5.10;
T_5.11 ;
T_5.7 ;
    %end;
S_0xaa5078900 .scope function.vec4.s6, "model_read" "model_read" 3 143, 3 143 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c45ea0_0 .var "idx", 1 0;
; Variable model_read is vec4 return value of scope S_0xaa5078900
TD_tb_pm_bank.model_read ;
    %load/vec4 v0xaa4c46760_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.12, 8;
    %load/vec4 v0xaa4c45ea0_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c46620, 4;
    %ret/vec4 0, 0, 6;  Assign to model_read (store_vec4_to_lval)
    %jmp T_6.13;
T_6.12 ;
    %load/vec4 v0xaa4c45ea0_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c466c0, 4;
    %ret/vec4 0, 0, 6;  Assign to model_read (store_vec4_to_lval)
T_6.13 ;
    %end;
S_0xaa5078a80 .scope task, "model_reset" "model_reset" 3 97, 3 97 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c45fe0_0 .var/i "k", 31 0;
TD_tb_pm_bank.model_reset ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c45fe0_0, 0, 32;
T_7.14 ;
    %load/vec4 v0xaa4c45fe0_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_7.15, 5;
    %pushi/vec4 0, 0, 6;
    %ix/getv/s 4, v0xaa4c45fe0_0;
    %store/vec4a v0xaa4c46620, 4, 0;
    %pushi/vec4 0, 0, 6;
    %ix/getv/s 4, v0xaa4c45fe0_0;
    %store/vec4a v0xaa4c466c0, 4, 0;
    %load/vec4 v0xaa4c45fe0_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45fe0_0, 0, 32;
    %jmp T_7.14;
T_7.15 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c46760_0, 0, 1;
    %end;
S_0xaa5078c00 .scope task, "model_swap" "model_swap" 3 137, 3 137 0, S_0x10392ff10;
 .timescale -9 -12;
TD_tb_pm_bank.model_swap ;
    %load/vec4 v0xaa4c46760_0;
    %inv;
    %store/vec4 v0xaa4c46760_0, 0, 1;
    %end;
S_0xaa5078d80 .scope task, "model_write" "model_write" 3 125, 3 125 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c46080_0 .var "idx", 1 0;
v0xaa4c46120_0 .var "pm", 5 0;
TD_tb_pm_bank.model_write ;
    %load/vec4 v0xaa4c46760_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.16, 8;
    %load/vec4 v0xaa4c46120_0;
    %load/vec4 v0xaa4c46080_0;
    %pad/u 4;
    %ix/vec4 4;
    %store/vec4a v0xaa4c466c0, 4, 0;
    %jmp T_9.17;
T_9.16 ;
    %load/vec4 v0xaa4c46120_0;
    %load/vec4 v0xaa4c46080_0;
    %pad/u 4;
    %ix/vec4 4;
    %store/vec4a v0xaa4c46620, 4, 0;
T_9.17 ;
    %end;
S_0xaa5078f00 .scope task, "pulse_init_frame" "pulse_init_frame" 3 175, 3 175 0, S_0x10392ff10;
 .timescale -9 -12;
TD_tb_pm_bank.pulse_init_frame ;
    %wait E_0xaa4c025c0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c464e0_0, 0, 1;
    %fork TD_tb_pm_bank.model_init_frame, S_0xaa5078780;
    %join;
    %wait E_0xaa4c025c0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c464e0_0, 0, 1;
    %wait E_0xaa4c025c0;
    %end;
S_0xaa5079080 .scope task, "start_test" "start_test" 3 237, 3 237 0, S_0x10392ff10;
 .timescale -9 -12;
v0xaa4c461c0_0 .var "description", 255 0;
TD_tb_pm_bank.start_test ;
    %load/vec4 v0xaa4c46d00_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46d00_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
    %vpi_call/w 3 242 "$display", "\000" {0 0 0};
    %vpi_call/w 3 243 "$display", "--- Test %0d: %s ---", v0xaa4c46d00_0, v0xaa4c461c0_0 {0 0 0};
    %end;
    .scope S_0xaa5078480;
T_12 ;
    %wait E_0xaa4c02700;
    %load/vec4 v0xaa4c457c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %load/vec4 v0xaa4c45860_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c454a0, 4;
    %store/vec4 v0xaa4c459a0_0, 0, 6;
    %load/vec4 v0xaa4c45900_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c454a0, 4;
    %store/vec4 v0xaa4c45a40_0, 0, 6;
    %jmp T_12.1;
T_12.0 ;
    %load/vec4 v0xaa4c45860_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c45540, 4;
    %store/vec4 v0xaa4c459a0_0, 0, 6;
    %load/vec4 v0xaa4c45900_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0xaa4c45540, 4;
    %store/vec4 v0xaa4c45a40_0, 0, 6;
T_12.1 ;
    %jmp T_12;
    .thread T_12, $push;
    .scope S_0xaa5078480;
T_13 ;
    %wait E_0xaa4c025c0;
    %load/vec4 v0xaa4c45ae0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.0, 8;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
T_13.2 ;
    %load/vec4 v0xaa4c45680_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_13.3, 5;
    %pushi/vec4 0, 0, 6;
    %ix/getv/s 3, v0xaa4c45680_0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c454a0, 0, 4;
    %pushi/vec4 0, 0, 6;
    %ix/getv/s 3, v0xaa4c45680_0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c45540, 0, 4;
    %load/vec4 v0xaa4c45680_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
    %jmp T_13.2;
T_13.3 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0xaa4c457c0_0, 0;
    %jmp T_13.1;
T_13.0 ;
    %load/vec4 v0xaa4c45720_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.4, 8;
    %load/vec4 v0xaa4c457c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.6, 8;
    %pushi/vec4 0, 0, 6;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c45540, 0, 4;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
T_13.8 ;
    %load/vec4 v0xaa4c45680_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_13.9, 5;
    %pushi/vec4 63, 0, 6;
    %ix/getv/s 3, v0xaa4c45680_0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c45540, 0, 4;
    %load/vec4 v0xaa4c45680_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
    %jmp T_13.8;
T_13.9 ;
    %jmp T_13.7;
T_13.6 ;
    %pushi/vec4 0, 0, 6;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c454a0, 0, 4;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
T_13.10 ;
    %load/vec4 v0xaa4c45680_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_13.11, 5;
    %pushi/vec4 63, 0, 6;
    %ix/getv/s 3, v0xaa4c45680_0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c454a0, 0, 4;
    %load/vec4 v0xaa4c45680_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c45680_0, 0, 32;
    %jmp T_13.10;
T_13.11 ;
T_13.7 ;
T_13.4 ;
    %load/vec4 v0xaa4c45c20_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.12, 8;
    %load/vec4 v0xaa4c457c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.14, 8;
    %load/vec4 v0xaa4c45d60_0;
    %load/vec4 v0xaa4c45cc0_0;
    %pad/u 4;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c45540, 0, 4;
    %jmp T_13.15;
T_13.14 ;
    %load/vec4 v0xaa4c45d60_0;
    %load/vec4 v0xaa4c45cc0_0;
    %pad/u 4;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0xaa4c454a0, 0, 4;
T_13.15 ;
T_13.12 ;
    %load/vec4 v0xaa4c45b80_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.16, 8;
    %load/vec4 v0xaa4c457c0_0;
    %inv;
    %assign/vec4 v0xaa4c457c0_0, 0;
T_13.16 ;
T_13.1 ;
    %jmp T_13;
    .thread T_13;
    .scope S_0x10392ff10;
T_14 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46260_0, 0, 1;
T_14.0 ;
    %delay 5000, 0;
    %load/vec4 v0xaa4c46260_0;
    %inv;
    %store/vec4 v0xaa4c46260_0, 0, 1;
    %jmp T_14.0;
    %end;
    .thread T_14;
    .scope S_0x10392ff10;
T_15 ;
    %vpi_call/w 3 263 "$dumpfile", "tb_pm_bank.vcd" {0 0 0};
    %vpi_call/w 3 264 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x10392ff10 {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46d00_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46800_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c463a0_0, 0, 32;
    %vpi_call/w 3 271 "$display", "\000" {0 0 0};
    %vpi_call/w 3 272 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 3 273 "$display", "PM Bank Testbench" {0 0 0};
    %vpi_call/w 3 274 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 3 275 "$display", "Parameters: K=%0d, M=%0d, S=%0d, Wm=%0d, INF=%0d", P_0x103939490, P_0x1039394d0, P_0x103939510, P_0x103939550, P_0x103939450 {0 0 0};
    %vpi_call/w 3 276 "$display", "=======================================================" {0 0 0};
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 3236462921, 0, 34;
    %concati/vec4 2513278416, 0, 32;
    %concati/vec4 2173024656, 0, 32;
    %concati/vec4 2177482161, 0, 32;
    %concati/vec4 2491524537, 0, 32;
    %concati/vec4 2781980037, 0, 32;
    %concati/vec4 2980440453, 0, 32;
    %concati/vec4 879325038, 0, 30;
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %load/vec4 v0xaa4c468a0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_15.0, 6;
    %vpi_call/w 3 288 "$display", "    \342\234\227 After reset: prev_is_A=%b, expected=1", v0xaa4c468a0_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
    %jmp T_15.1;
T_15.0 ;
    %vpi_call/w 3 291 "$display", "    \342\234\223 After reset: prev_is_A=1" {0 0 0};
T_15.1 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.2 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.3, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.2;
T_15.3 ;
    %vpi_call/w 3 300 "$display", "    \342\234\223 Bank A reads are 0, no writes occurred" {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 3904818404, 0, 33;
    %concati/vec4 3269118528, 0, 32;
    %concati/vec4 3738976388, 0, 32;
    %concati/vec4 3269252672, 0, 32;
    %concati/vec4 2185253088, 0, 32;
    %concati/vec4 3838504126, 0, 32;
    %concati/vec4 3538337410, 0, 32;
    %concati/vec4 1027420457, 0, 31;
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.pulse_init_frame, S_0xaa5078f00;
    %join;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c46300_0, 0, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %load/vec4 v0xaa4c46300_0;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %vpi_call/w 3 320 "$display", "    \342\234\223 After init_frame+swap: rd_pm[0]=%0d (expected 0)", v0xaa4c46a80_0 {0 0 0};
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.4 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.5, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 63, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.4;
T_15.5 ;
    %vpi_call/w 3 325 "$display", "    \342\234\223 After init_frame+swap: rd_pm[1..%0d]=%0d (expected INF=%0d)", 34'sb0000000000000000000000000000000011, v0xaa4c46a80_0, P_0x103939450 {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 3900788133, 0, 34;
    %concati/vec4 3114119572, 0, 32;
    %concati/vec4 2178795941, 0, 32;
    %concati/vec4 3516170661, 0, 32;
    %concati/vec4 3117530241, 0, 32;
    %concati/vec4 2379598281, 0, 32;
    %concati/vec4 2511982721, 0, 32;
    %concati/vec4 576810603, 0, 30;
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c45360_0, 0, 2;
    %pushi/vec4 13, 0, 6;
    %store/vec4 v0xaa4c45400_0, 0, 6;
    %fork TD_tb_pm_bank.do_write, S_0xaa5078300;
    %join;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %vpi_call/w 3 344 "$display", "    \342\234\223 Write to curr bank (B) doesn't affect reads from prev bank (A)" {0 0 0};
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 13, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %vpi_call/w 3 351 "$display", "    \342\234\223 After swap: rd_pm[2]=%0d (expected 13)", v0xaa4c46a80_0 {0 0 0};
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 21555, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 975197047, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1634738290, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1869374835, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c45360_0, 0, 2;
    %pushi/vec4 42, 0, 6;
    %store/vec4 v0xaa4c45400_0, 0, 6;
    %fork TD_tb_pm_bank.do_write, S_0xaa5078300;
    %join;
    %load/vec4 v0xaa4c468a0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_15.6, 6;
    %vpi_call/w 3 373 "$display", "    \342\234\227 Before swap: prev_is_A=%b, expected=1", v0xaa4c468a0_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
T_15.6 ;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %load/vec4 v0xaa4c468a0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_15.8, 6;
    %vpi_call/w 3 382 "$display", "    \342\234\227 After swap: prev_is_A=%b, expected=0", v0xaa4c468a0_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
    %jmp T_15.9;
T_15.8 ;
    %vpi_call/w 3 385 "$display", "    \342\234\223 After swap: prev_is_A=0" {0 0 0};
T_15.9 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 42, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %vpi_call/w 3 390 "$display", "    \342\234\223 Reads now come from Bank B, rd_pm[2]=%0d", v0xaa4c46a80_0 {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 3628132082, 0, 33;
    %concati/vec4 3670335192, 0, 32;
    %concati/vec4 2176943565, 0, 33;
    %concati/vec4 3430981964, 0, 32;
    %concati/vec4 2178795941, 0, 32;
    %concati/vec4 3516255360, 0, 32;
    %concati/vec4 3036185037, 0, 32;
    %concati/vec4 929132585, 0, 30;
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.10 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.11, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45360_0, 0, 2;
    %pushi/vec4 100, 0, 32;
    %load/vec4 v0xaa4c46440_0;
    %add;
    %pad/s 6;
    %store/vec4 v0xaa4c45400_0, 0, 6;
    %fork TD_tb_pm_bank.do_write, S_0xaa5078300;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.10;
T_15.11 ;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.12 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.13, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 100, 0, 32;
    %load/vec4 v0xaa4c46440_0;
    %add;
    %pad/s 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.12;
T_15.13 ;
    %vpi_call/w 3 413 "$display", "    \342\234\223 Full symbol pass: {100,101,102,103} written and verified" {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 1412774432, 0, 32; draw_string_vec4
    %pushi/vec4 1768843636, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1600549473, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1835343991, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1751477792, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1886545270, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1600746335, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1094532400, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.pulse_init_frame, S_0xaa5078f00;
    %join;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.14 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.15, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 63, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.14;
T_15.15 ;
    %vpi_call/w 3 434 "$display", "    \342\234\223 init_frame on Bank A: [0, INF, INF, INF]" {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 5518906, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 542270817, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1680699503, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1920213107, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1701667182, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1953063795, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.16 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.17, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45360_0, 0, 2;
    %pushi/vec4 10, 0, 32;
    %load/vec4 v0xaa4c46440_0;
    %add;
    %pad/s 6;
    %store/vec4 v0xaa4c45400_0, 0, 6;
    %fork TD_tb_pm_bank.do_write, S_0xaa5078300;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.16;
T_15.17 ;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %wait E_0xaa4c025c0;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c46940_0, 0, 2;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0xaa4c469e0_0, 0, 2;
    %delay 1000, 0;
    %load/vec4 v0xaa4c46a80_0;
    %pad/u 32;
    %cmpi/ne 12, 0, 32;
    %jmp/1 T_15.20, 6;
    %flag_mov 8, 6;
    %load/vec4 v0xaa4c46b20_0;
    %pad/u 32;
    %cmpi/ne 12, 0, 32;
    %flag_or 6, 8;
T_15.20;
    %jmp/0xz  T_15.18, 6;
    %vpi_call/w 3 457 "$display", "    \342\234\227 Same address on both ports: rd_pm0=%0d, rd_pm1=%0d, expected 12", v0xaa4c46a80_0, v0xaa4c46b20_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
    %jmp T_15.19;
T_15.18 ;
    %vpi_call/w 3 461 "$display", "    \342\234\223 Same address (idx=2): rd_pm0=%0d, rd_pm1=%0d", v0xaa4c46a80_0, v0xaa4c46b20_0 {0 0 0};
T_15.19 ;
    %wait E_0xaa4c025c0;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c46940_0, 0, 2;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0xaa4c469e0_0, 0, 2;
    %delay 1000, 0;
    %load/vec4 v0xaa4c46a80_0;
    %pad/u 32;
    %cmpi/ne 10, 0, 32;
    %jmp/1 T_15.23, 6;
    %flag_mov 8, 6;
    %load/vec4 v0xaa4c46b20_0;
    %pad/u 32;
    %cmpi/ne 13, 0, 32;
    %flag_or 6, 8;
T_15.23;
    %jmp/0xz  T_15.21, 6;
    %vpi_call/w 3 470 "$display", "    \342\234\227 Different addresses: rd_pm0=%0d (exp 10), rd_pm1=%0d (exp 13)", v0xaa4c46a80_0, v0xaa4c46b20_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
    %jmp T_15.22;
T_15.21 ;
    %vpi_call/w 3 474 "$display", "    \342\234\223 Different addresses: rd_pm0=%0d, rd_pm1=%0d", v0xaa4c46a80_0, v0xaa4c46b20_0 {0 0 0};
T_15.22 ;
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 5519162, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 542143087, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1953457007, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1814061928, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1701014387, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %vpi_call/w 3 488 "$display", "    \342\234\223 Protocol: swap_banks should never coincide with wr_en" {0 0 0};
    %vpi_call/w 3 489 "$display", "      (This testbench enforces this, would use SVA in practice)" {0 0 0};
    %fork TD_tb_pm_bank.pulse_init_frame, S_0xaa5078f00;
    %join;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %pushi/vec4 0, 0, 6;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.24 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.25, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c46940_0, 0, 2;
    %delay 1000, 0;
    %load/vec4 v0xaa4c46a80_0;
    %pad/u 39;
    %cmpi/u 63, 0, 39;
    %jmp/0xz  T_15.26, 5;
    %vpi_call/w 3 500 "$display", "    \342\234\227 After init_frame: rd_pm[%0d]=%0d, expected >= INF=%0d", v0xaa4c46440_0, v0xaa4c46a80_0, P_0x103939450 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0xaa4c46da0_0, 0, 1;
T_15.26 ;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.24;
T_15.25 ;
    %vpi_call/w 3 505 "$display", "    \342\234\223 After init_frame: index 0 is 0, others are INF" {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %pushi/vec4 3403868874, 0, 33;
    %concati/vec4 3704015424, 0, 32;
    %concati/vec4 4006799568, 0, 32;
    %concati/vec4 2177744281, 0, 33;
    %concati/vec4 3520955849, 0, 32;
    %concati/vec4 2491534733, 0, 32;
    %concati/vec4 3184104841, 0, 32;
    %concati/vec4 794915428, 0, 30;
    %store/vec4 v0xaa4c461c0_0, 0, 256;
    %fork TD_tb_pm_bank.start_test, S_0xaa5079080;
    %join;
    %fork TD_tb_pm_bank.apply_reset, S_0x103939590;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46580_0, 0, 32;
T_15.28 ;
    %load/vec4 v0xaa4c46580_0;
    %cmpi/s 3, 0, 32;
    %jmp/0xz T_15.29, 5;
    %fork TD_tb_pm_bank.pulse_init_frame, S_0xaa5078f00;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.30 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.31, 5;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45360_0, 0, 2;
    %vpi_func 3 524 "$random" 32 {0 0 0};
    %pushi/vec4 63, 0, 32;
    %and;
    %pad/u 6;
    %store/vec4 v0xaa4c45400_0, 0, 6;
    %fork TD_tb_pm_bank.do_write, S_0xaa5078300;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.30;
T_15.31 ;
    %fork TD_tb_pm_bank.do_swap, S_0xaa5078180;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
T_15.32 ;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 34;
    %cmpi/s 4, 0, 34;
    %jmp/0xz T_15.33, 5;
    %load/vec4 v0xaa4c46440_0;
    %store/vec4 v0xaa4c45ea0_0, 0, 2;
    %callf/vec4 TD_tb_pm_bank.model_read, S_0xaa5078900;
    %store/vec4 v0xaa4c46300_0, 0, 6;
    %load/vec4 v0xaa4c46440_0;
    %pad/s 2;
    %store/vec4 v0xaa4c45220_0, 0, 2;
    %load/vec4 v0xaa4c46300_0;
    %store/vec4 v0xaa4c45180_0, 0, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0xaa4c452c0_0, 0, 32;
    %fork TD_tb_pm_bank.check_read, S_0xaa5078000;
    %join;
    %load/vec4 v0xaa4c46440_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46440_0, 0, 32;
    %jmp T_15.32;
T_15.33 ;
    %load/vec4 v0xaa4c46580_0;
    %addi 1, 0, 32;
    %store/vec4 v0xaa4c46580_0, 0, 32;
    %jmp T_15.28;
T_15.29 ;
    %vpi_call/w 3 537 "$display", "    \342\234\223 Randomized sequence: 3 iterations verified against scoreboard" {0 0 0};
    %fork TD_tb_pm_bank.end_test, S_0xaa5078600;
    %join;
    %vpi_call/w 3 544 "$display", "\000" {0 0 0};
    %vpi_call/w 3 545 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 3 546 "$display", "Test Summary" {0 0 0};
    %vpi_call/w 3 547 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 3 548 "$display", "Total:  %0d", v0xaa4c46d00_0 {0 0 0};
    %vpi_call/w 3 549 "$display", "Passed: %0d", v0xaa4c46800_0 {0 0 0};
    %vpi_call/w 3 550 "$display", "Failed: %0d", v0xaa4c463a0_0 {0 0 0};
    %load/vec4 v0xaa4c463a0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_15.34, 4;
    %vpi_call/w 3 553 "$display", "\000" {0 0 0};
    %vpi_call/w 3 554 "$display", "*** ALL TESTS PASSED! ***" {0 0 0};
    %jmp T_15.35;
T_15.34 ;
    %vpi_call/w 3 556 "$display", "\000" {0 0 0};
    %vpi_call/w 3 557 "$display", "*** SOME TESTS FAILED ***" {0 0 0};
T_15.35 ;
    %vpi_call/w 3 559 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 3 561 "$finish" {0 0 0};
    %end;
    .thread T_15;
    .scope S_0x10392ff10;
T_16 ;
    %delay 100000000, 0;
    %vpi_call/w 3 567 "$display", "\000" {0 0 0};
    %vpi_call/w 3 568 "$display", "*** TIMEOUT: Test did not complete in time ***" {0 0 0};
    %vpi_call/w 3 569 "$finish" {0 0 0};
    %end;
    .thread T_16;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "tb_pm_bank.v";
    "../src/pm_bank.v";
